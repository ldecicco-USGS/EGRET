<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="EGRET">
<title>Data Preperation • EGRET</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Data Preperation">
<meta property="og:description" content="EGRET">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-53797708-7"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53797708-7');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://www.usgs.gov/" class="external-link"><img src="logo.png" id="logo" alt="Home" style="padding: 0px 50px 0px 0px;"></a>
    <a class="navbar-brand me-2" href="../index.html">EGRET</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.0.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/Overview.html">Overview and Updates</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/EGRET.html">Introduction</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Function Help Pages</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Enhancements.html">Enhancements</a>
    <a class="dropdown-item" href="../articles/WRTDSK.html">WRTDS Kalman</a>
    <a class="dropdown-item" href="../articles/parallel.html">Running in Parallel</a>
    <a class="dropdown-item" href="../articles/rResid.html">Random Residuals</a>
    <a class="dropdown-item" href="../articles/SeasonalFraction.html">Seasonal Analysis</a>
    <a class="dropdown-item" href="../articles/streamflow_trend.html">Daily Streamflow Trends</a>
    <a class="dropdown-item" href="../articles/TrendsByMonth.html">Trends by month</a>
    <a class="dropdown-item" href="../articles/AlternativeQMethod.html">Alternative Q Method</a>
    <a class="dropdown-item" href="../articles/Annual_Hydrograph_Timing.html">Annual_Hydrograph_Timing</a>
    <a class="dropdown-item" href="../articles/units.html">Custom Units</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/References_WRTDS.html">Bibliograpy</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://code.usgs.gov/water/EGRET">
    <span class="fa fa-gitlab fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Data Preperation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DOI-USGS/EGRET/blob/HEAD/vignettes/dataPreperation.Rmd" class="external-link"><code>vignettes/dataPreperation.Rmd</code></a></small>
      <div class="d-none name"><code>dataPreperation.Rmd</code></div>
    </div>

    
    
<p><code>EGRET</code> was designed for water-quality and streamflow
exploration. One of the nice features of <code>EGRET</code> is the
convenient functions to import data from web services. This vignette
gives some advice for updating the classic workflows for importing water
quality <code>EGRET</code> data.</p>
<p>Users of the <code>readNWISSample</code> function may have noticed a
warning recently:</p>
<pre><code>Warning message:                                                                                                               
NWIS qw web services are being retired. 
Please see vignette('qwdata_changes', package = 'dataRetrieval') 
for more information.
https://cran.r-project.org/web/packages/dataRetrieval/vignettes/qwdata_changes.html</code></pre>
<p>The exact date when the NWIS water-quality services will be shut down
is not known, but it is expected to happen in the first half of the
2024. When the NWIS web service shuts down, we will be removing the
<code>readNWISSample</code> function from <code>EGRET</code>.</p>
<p>USGS data that was historically retrieved from the NWIS services will
still be available from the <a href="https://www.waterqualitydata.us/" class="external-link">Water Quality Portal</a>.</p>
<div class="section level2">
<h2 id="dataretrieval-workflow">dataRetrieval Workflow<a class="anchor" aria-label="anchor" href="#dataretrieval-workflow"></a>
</h2>
<p>This is the recommended workflow for any water quality data that can
be accessed through the <a href="https://www.waterqualitydata.us/" class="external-link">Water
Quality Portal</a> (WQP). WQP houses USGS, EPA, and other water quality
data. It is <em>currently</em> possible to query the WQP by USGS
parameter code for a USGS site, but using parameter code is not
guaranteed in the future. Therefore, this workflow will focus on
best-practices for the WQP.</p>
<p>First, it’s recommended to get the raw data from WQP using functions
in the <code>dataRetrieval</code> package. Please see the <a href="https://rconnect.usgs.gov/dataRetrieval/" class="external-link">dataRetrieval site</a>
for complete information on <code>dataRetrieval</code>.</p>
<p>This will let us analyze and explore the data using all the
information available. Let’s start with our classic <code>EGRET</code>
example data from the Choptank River. The USGS station id is “01491000”.
Using the WQP, we need to add a “USGS-” prefix to the station id. Our
example eList in <code>EGRET</code> is for “Inorganic nitrogen (nitrate
and nitrite)”. In the WQP, we use these words as the input to the
CharacteristicName.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://code.usgs.gov/water/dataRetrieval" class="external-link">dataRetrieval</a></span><span class="op">)</span></span>
<span><span class="va">nitrogen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/dataRetrieval/man/readWQPdata.html" class="external-link">readWQPdata</a></span><span class="op">(</span>siteNumbers <span class="op">=</span> <span class="st">"USGS-01491000"</span>, </span>
<span>                        CharacteristicName <span class="op">=</span> <span class="st">"Inorganic nitrogen (nitrate and nitrite)"</span><span class="op">)</span></span></code></pre></div>
<p>This returns a data frame with 1397 rows. There are a few columns I
recommend checking:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">nitrogen</span><span class="op">$</span><span class="va">ResultSampleFractionText</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Total"     "Dissolved"</span></span></code></pre>
<p>We’ll need to decide if it’s appropriate to use both Total and
Dissolved in a single analysis. Usually it is not. There may be other
sample fraction values depending on the parameters.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">nitrogen</span><span class="op">$</span><span class="va">ActivityTypeCode</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Sample-Composite Without Parents"       </span></span>
<span><span class="co">## [2] "Sample-Routine"                         </span></span>
<span><span class="co">## [3] "Quality Control Sample-Reference Sample"</span></span>
<span><span class="co">## [4] "Quality Control Sample-Field Replicate" </span></span>
<span><span class="co">## [5] "Not determined"</span></span></code></pre>
<p>Here we see there are some quality control samples included in the
data. Perhaps replicates are acceptable for analysis, but perhaps not.
You would definately want to remove samples that are “Blanks” for
example.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">nitrogen</span><span class="op">$</span><span class="va">ActivityMediaName</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Water"             "Biological Tissue"</span></span></code></pre>
<p>For this analysis, we’re only interested in water.</p>
<p>Looking at these results, we need to filter the results down to
“Water” as the media, “Total” for the sample fraction, and we want to
exclude any quality control results. For your individual analysis, there
might be other decisions you need to make. It’s important to take a look
at this raw data early in your workflow to make sure you are looking at
the right things.</p>
<p>We’ll use the <code>dplyr</code> package for some general
cleanup:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">total_nitrogen_water</span> <span class="op">&lt;-</span> <span class="va">nitrogen</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">ActivityMediaName</span> <span class="op">==</span> <span class="st">"Water"</span>,</span>
<span>         <span class="va">ResultSampleFractionText</span> <span class="op">==</span> <span class="st">"Total"</span>,</span>
<span>         <span class="op">!</span><span class="va">ActivityTypeCode</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Quality Control Sample-Reference Sample"</span>,</span>
<span>                                  <span class="st">"Quality Control Sample-Field Replicate"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>We’ve taken our data down to 454 rows. Let’s look at a few more
columns:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">total_nitrogen_water</span><span class="op">$</span><span class="va">ResultMeasure.MeasureUnitCode</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "mg/l as N"</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">total_nitrogen_water</span><span class="op">$</span><span class="va">ResultDetectionConditionText</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] NA</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">total_nitrogen_water</span><span class="op">$</span><span class="va">HydrologicEvent</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Hurricane"                   "Storm"                      </span></span>
<span><span class="co">## [3] "Routine sample"              "Not Determined (historical)"</span></span>
<span><span class="co">## [5] "Drought"                     "Snowmelt"                   </span></span>
<span><span class="co">## [7] "Dambreak"</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">total_nitrogen_water</span><span class="op">$</span><span class="va">HydrologicCondition</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "Falling stage"        "Rising stage"         "Peak stage"          </span></span>
<span><span class="co">## [4] "Stable, normal stage" "Not determined"       "Stable, high stage"  </span></span>
<span><span class="co">## [7] "Stable, low stage"</span></span></code></pre>
<p>In this example, we have 1 reported measurement unit and no detection
condition text. I would guess for most <code>EGRET</code> type analysis,
this would be fine. However, maybe you decide you don’t want the
“Hurricane” data or “Dambreak”. These are the kinds of things you’ll
need to consider at the beginning of analysis.</p>
<p>So now we need to convert the WQP output into a <code>Sample</code>
data frame. There are 3 steps that are used in the
<code>readWQPSample</code> function. The first is
<code>processQWData</code>. This function tries to automate the
conversion process going from the WQP format to 3 simple columns:
dateTime, qualifier, and value.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">processed_qw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/processQWData.html">processQWData</a></span><span class="op">(</span><span class="va">total_nitrogen_water</span><span class="op">)</span></span></code></pre></div>
<p>The “qualifier” column will only come back with left-censored
indicators “&lt;”. If your data has right or interval censored data, you
will need to determine how to flag those. It is a good idea to check the
output of <code>processQWData</code> to make sure the “qualifier” flag
seems to match the raw data. The function checks the column
ResultDetectionConditionText for any “non-detect” type text. It also
checks if the reported value is less than the reported detection limit.
There are no required text fields in the WQP, so it is a good idea to
look for any unusual “ResultDetectionConditionText” output that may not
be flagged in the <code>processQWData</code> function.</p>
<p>The function <code>compressData</code> converts the qualifier column
to ConcLow/ConcHigh/Uncen that is require in <code>EGRET</code>.
Finally, <code>populateSampleColumns</code> adds in the necessary date
columns:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">compressedData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compressData.html">compressData</a></span><span class="op">(</span><span class="va">processed_qw</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dateTime"</span>,</span>
<span>                                              <span class="st">"qualifier"</span>,</span>
<span>                                              <span class="st">"value"</span><span class="op">)</span><span class="op">]</span>, </span>
<span>                               verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/populateSampleColumns.html">populateSampleColumns</a></span><span class="op">(</span><span class="va">compressedData</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="classic-workflows">Classic workflows<a class="anchor" aria-label="anchor" href="#classic-workflows"></a>
</h2>
<p>The <code>readNWISSample</code>, <code>readUserSample</code>, and
<code>readWQPSample</code> functions are the classic ways to get water
quality data in an <code>EGRET</code> friendly format.</p>
<div class="section level3">
<h3 id="readusersample">readUserSample<a class="anchor" aria-label="anchor" href="#readusersample"></a>
</h3>
<p>This has always been a valid option for getting independent water
quality data into <code>EGRET</code>. Users will need to generate a
delimited file. The separator can be anything, it is defined in the
“separator” argument. The file must be organized in a very strict way.
The first column must be the date column, the second column is the
remark code (which should use “&lt;” for left-censored values), and the
third column is the value column.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filePath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package<span class="op">=</span><span class="st">"EGRET"</span><span class="op">)</span></span>
<span><span class="va">fileName</span> <span class="op">&lt;-</span> <span class="st">'ChoptankRiverNitrate.csv'</span></span>
<span><span class="va">Sample</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readUserSample.html">readUserSample</a></span><span class="op">(</span><span class="va">filePath</span>,</span>
<span>                         <span class="va">fileName</span>,</span>
<span>                         separator <span class="op">=</span> <span class="st">";"</span>,</span>
<span>                         verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="readwqpsample">readWQPSample<a class="anchor" aria-label="anchor" href="#readwqpsample"></a>
</h3>
<p><code>readWQPSample</code> is a function that attempts to get water
quality data, and automatically format it in an
<code>EGRET</code>-friendly way. Generally it does a pretty good job.
However, the full set of raw data is not retained and some details on
the data may be lost.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">Sample_All</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readWQPSample.html">readWQPSample</a></span><span class="op">(</span>siteNumber <span class="op">=</span> <span class="st">'WIDNR_WQX-10032762'</span>,</span>
<span>                            characteristicName <span class="op">=</span> <span class="st">'Specific conductance'</span>,</span>
<span>                            startDate <span class="op">=</span>  <span class="st">''</span>,</span>
<span>                            endDate <span class="op">=</span>  <span class="st">''</span><span class="op">)</span></span></code></pre></div>
<p>Details described above in the recommended workflow sections should
help you understand why starting with the original raw data is
preferable. It takes a little more work to understand the data, but you
also are more confident that you are analyizing the correct
information.</p>
</div>
<div class="section level3">
<h3 id="readnwissample">readNWISSample<a class="anchor" aria-label="anchor" href="#readnwissample"></a>
</h3>
<p>The <code>readNWISSample</code> function will be removed from
<code>EGRET</code> when the NWIS web services are shut down. Please
consider using the time from now until that happens (late 2023) to
update your scripts and compare results. It is not recommended to write
any new scripts using this function.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer></footer>
</div> <!-- / div for your main content-->

<!-- BEGIN USGS Footer Template -->

<footer class="footer"><div class="tmp-container">
		<!-- .footer-wrap -->
			<!-- .footer-doi -->
			<div class="footer-doi">
				<!-- footer nav links -->
				<ul class="menu nav">
<li class="first leaf menu-links menu-level-1"><a href="https://www.doi.gov/privacy" class="external-link">DOI Privacy Policy</a></li>
					<li class="leaf menu-links menu-level-1"><a href="https://www.usgs.gov/policies-and-notices" class="external-link">Legal</a></li>
					<li class="leaf menu-links menu-level-1"><a href="https://www.usgs.gov/accessibility-and-us-geological-survey" class="external-link">Accessibility</a></li>
					<li class="leaf menu-links menu-level-1"><a href="https://www.usgs.gov/sitemap" class="external-link">Site Map</a></li>
					<li class="last leaf menu-links menu-level-1"><a href="https://answers.usgs.gov/" class="external-link">Contact USGS</a></li>
				</ul>
<!--/ footer nav links -->
</div>
			<!-- /.footer-doi -->

			<hr>
<!-- .footer-utl-links --><div class="footer-doi">
			<ul class="menu nav">
<li class="first leaf menu-links menu-level-1"><a href="https://www.doi.gov/" class="external-link">U.S. Department of the Interior</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.doioig.gov/" class="external-link">DOI Inspector General</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.whitehouse.gov/" class="external-link">White House</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.whitehouse.gov/omb/management/egov/" class="external-link">E-gov</a></li>
				<li class="leaf menu-links menu-level-1"><a href="https://www.doi.gov/pmb/eeo/no-fear-act" class="external-link">No Fear Act</a></li>
				<li class="last leaf menu-links menu-level-1"><a href="https://www.usgs.gov/about/organization/science-support/foia" class="external-link">FOIA</a></li>
			</ul>
</div>			
		<!-- /.footer-utl-links -->
		<!-- .footer-social-links -->
		<div class="footer-social-links">
			<ul class="social">
<li class="follow">Follow</li>
				<li class="twitter">
					<a href="https://twitter.com/usgs" target="_blank" class="external-link">
						<i class="fa fa-twitter-square"><span class="only">Twitter</span></i>
					</a>
				</li>
				<li class="facebook">
					<a href="https://facebook.com/usgeologicalsurvey" target="_blank" class="external-link">
						<i class="fa fa-facebook-square"><span class="only">Facebook</span></i>
					</a>
				</li>
				<li class="github">
					<a href="https://github.com/usgs" target="_blank" class="external-link">
						<i class="fa fa-github"><span class="only">GitHub</span></i>
					</a>
				</li>
				<li class="flickr">
					<a href="https://flickr.com/usgeologicalsurvey" target="_blank" class="external-link">
						<i class="fa fa-flickr"><span class="only">Flickr</span></i>
					</a>
				</li>
				<li class="youtube">
					<a href="http://youtube.com/usgs" target="_blank" class="external-link">
						<i class="fa fa-youtube-play"><span class="only">YouTube</span></i>
					</a>
				</li>
				<li class="instagram">
					<a href="https://instagram.com/usgs" target="_blank" class="external-link">
						<i class="fa fa-instagram"><span class="only">Instagram</span></i>
					</a>
				</li>
			</ul>
</div>
		<!-- /.footer-social-links -->
	</div>
		<!-- /.footer-wrap -->	
</footer><!-- END USGS Footer Template- --><!-- Google Tag Manager (noscript) --><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TKQR8KP" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
  
  </body>
<!-- closing div for body -->
</html>
